<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="/css/bootstrap.css" />
	<title>Form Input</title>
</head>

<body>
	<main class="container">
		<header>
			<h1>Form input</h1>
		</header>
		<div class="row mb-2">
			<div class="col">
				<form>
					<div>
						<label for="text-field" class="form-label">
							Enter some text
						</label>
						<input type="text" id="text-field" class="form-control" />
						<div class="mt-2">
							<button type="button" class="btn btn-primary" id="text-button">
								Get Text
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<h3>Button</h3>
				<div id="button-log"></div>
			</div>
			<div class="col">
				<h3>Keydown</h3>
				<div id="keydown-log"></div>
			</div>
			<div class="col">
				<h3>Input</h3>
				<div id="input-log"></div>
			</div>
			<div class="col">
				<h3>Change</h3>
				<div id="change-log"></div>
			</div>
		</div>
	</main>
	<script>
		let textField = document.getElementById('text-field');
		let textButton = document.getElementById('text-button');

		textButton.addEventListener('click', () => logMessage(textField.value, 'button-log'));

		textField.addEventListener('keydown', (e) =>
			logMessage(`${e.key} / ${e.keyCode} / ${e.target.value}`, 'keydown-log')
		);
		textField.addEventListener('input', (e) =>
			logMessage(`${e.data} / ${e.target.value}`, 'input-log')
		);
		textField.addEventListener('change', () => logMessage(textField.value, 'change-log'));

		function logMessage(message, destination) {
			// document.getElementById(destination).innerHTML += message + '<br>';
			// document.getElementById(destination).textContent = message;

			// But the best way to do this:
			document.getElementById(destination).insertAdjacentHTML('beforeend', `${message}<br/>`);
			// The first argument to insertAdjacentHTML can be any of
			//   * 'beforebegin',
			//   * 'afterbegin',
			//   * 'beforeend',
			//   * 'afterend'
		}
	</script>
</body>

</html>